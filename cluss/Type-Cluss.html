<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Type.Cluss</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Type-Cluss.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cluss-0.1: simple alternative to type classes</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Type.Cluss</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Clusses</a></li><li><a href="#g:2">Type Patterns</a></li><li><a href="#g:3">Instance Products</a></li><li><a href="#g:4">Constraint Combinators</a><ul><li><a href="#g:5">Basic Combinators</a></li><li><a href="#g:6">Combinators for Overlaying Contraints</a></li><li><a href="#g:7">Combinators for Bonding Contraints</a></li></ul></li><li><a href="#g:8">Helpers</a><ul><li><a href="#g:9">Helpers for Identical Constructors</a></li><li><a href="#g:10">Helpers for Function Constructors</a></li></ul></li><li><a href="#g:11">Examples</a><ul><li><a href="#g:12">Example1: Hello</a></li><li><a href="#g:13">Example2: Printf</a></li><li><a href="#g:14">Example3: Monad</a></li></ul></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="#t:In">In</a> as a <span class="keyword">where</span><ul class="subs"><li><a href="#v:proj">proj</a> ::  <a href="Type-Cluss.html#t:AllOf">AllOf</a> as f -&gt; f a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Type">Type</a> a</li><li class="src short"><span class="keyword">data</span> a <a href="#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Unary">Unary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Binary">Binary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Ternary">Ternary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Quaternary">Quaternary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Quinary">Quinary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:Senary">Senary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllOf">AllOf</a> as = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> as as</li><li class="src short"><span class="keyword">data family</span> <a href="#t:AllOf-39-">AllOf'</a> ts as f</li><li class="src short"><span class="keyword">class</span> (<a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#v:True">True</a> ~ <a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#v:False">False</a>) =&gt; <a href="#t:This">This</a> a</li><li class="src short"><span class="keyword">class</span> <a href="#t:Pure">Pure</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Is">Is</a> a b = a ~ b</li><li class="src short"><span class="keyword">class</span> (p a, q a) =&gt; (p <a href="#t:-62--43--60-">&gt;+&lt;</a> q) a</li><li class="src short"><span class="keyword">class</span> (p a b, q a b) =&gt; (p <a href="#t:-62--43--43--60-">&gt;++&lt;</a> q) a b</li><li class="src short"><span class="keyword">class</span> (p a b c, q a b c) =&gt; (p <a href="#t:-62--43--43--43--60-">&gt;+++&lt;</a> q) a b c</li><li class="src short"><span class="keyword">class</span> (p a b c d, q a b c d) =&gt; (p <a href="#t:-62--43--43--43--43--60-">&gt;++++&lt;</a> q) a b c d</li><li class="src short"><span class="keyword">class</span> (p a b c d e, q a b c d e) =&gt; (p <a href="#t:-62--43--43--43--43--43--60-">&gt;+++++&lt;</a> q) a b c d e</li><li class="src short"><span class="keyword">class</span> (p a b c d e f, q a b c d e f) =&gt; (p <a href="#t:-62--43--43--43--43--43--43--60-">&gt;++++++&lt;</a> q) a b c d e f</li><li class="src short"><span class="keyword">class</span> (p a, q b) =&gt; (p <a href="#t:-62--124--60-">&gt;|&lt;</a> q) a b</li><li class="src short"><span class="keyword">class</span> (p a b, q c) =&gt; (p <a href="#t:-62--124--124--60-">&gt;||&lt;</a> q) a b c</li><li class="src short"><span class="keyword">class</span> (p a b c, q d) =&gt; (p <a href="#t:-62--124--124--124--60-">&gt;|||&lt;</a> q) a b c d</li><li class="src short"><span class="keyword">class</span> (p a b c d, q e) =&gt; (p <a href="#t:-62--124--124--124--124--60-">&gt;||||&lt;</a> q) a b c d e</li><li class="src short"><span class="keyword">class</span> (p a b c d e, q f) =&gt; (p <a href="#t:-62--124--124--124--124--124--60-">&gt;|||||&lt;</a> q) a b c d e f</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllOfI">AllOfI</a> as = <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> as as</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllOfI-39-">AllOfI'</a> ts as = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> ts as Id</li><li class="src short"><a href="#v:andI">andI</a> ::  a -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Type">Type</a> a : as)</li><li class="src short"><a href="#v:andI1">andI1</a> ::  (<span class="keyword">forall</span> b. Modify (<a href="Type-Cluss.html#t:In">In</a> ts) p b =&gt; a b) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Unary">Unary</a> a p : as)</li><li class="src short"><a href="#v:andI2">andI2</a> ::  (<span class="keyword">forall</span> b c. Modify2 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c =&gt; a b c) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Binary">Binary</a> a p : as)</li><li class="src short"><a href="#v:andI3">andI3</a> ::  (<span class="keyword">forall</span> b c d. Modify3 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d =&gt; a b c d) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Ternary">Ternary</a> a p : as)</li><li class="src short"><a href="#v:andI4">andI4</a> ::  (<span class="keyword">forall</span> b c d e. Modify4 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e =&gt; a b c d e) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> a p : as)</li><li class="src short"><a href="#v:andI5">andI5</a> ::  (<span class="keyword">forall</span> b c d e f. Modify5 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f =&gt; a b c d e f) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Quinary">Quinary</a> a p : as)</li><li class="src short"><a href="#v:andI6">andI6</a> ::  (<span class="keyword">forall</span> b c d e f g. Modify6 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f g =&gt; a b c d e f g) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Senary">Senary</a> a p : as)</li><li class="src short"><a href="#v:noneI">noneI</a> ::  <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts []</li><li class="src short"><a href="#v:projI">projI</a> :: <a href="Type-Cluss.html#t:In">In</a> as a =&gt; <a href="Type-Cluss.html#t:AllOfI">AllOfI</a> as -&gt; a</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllOfF">AllOfF</a> as t = <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> as as t</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllOfF-39-">AllOfF'</a> ts as t = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> ts as (Func t)</li><li class="src short"><a href="#v:andF">andF</a> ::  (a -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Type">Type</a> a : as) t</li><li class="src short"><a href="#v:andF1">andF1</a> ::  (<span class="keyword">forall</span> b. Modify (<a href="Type-Cluss.html#t:In">In</a> ts) p b =&gt; a b -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Unary">Unary</a> a p : as) t</li><li class="src short"><a href="#v:andF2">andF2</a> ::  (<span class="keyword">forall</span> b c. Modify2 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c =&gt; a b c -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Binary">Binary</a> a p : as) t</li><li class="src short"><a href="#v:andF3">andF3</a> ::  (<span class="keyword">forall</span> b c d. Modify3 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d =&gt; a b c d -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Ternary">Ternary</a> a p : as) t</li><li class="src short"><a href="#v:andF4">andF4</a> ::  (<span class="keyword">forall</span> b c d e. Modify4 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e =&gt; a b c d e -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> a p : as) t</li><li class="src short"><a href="#v:andF5">andF5</a> ::  (<span class="keyword">forall</span> b c d e f. Modify5 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f =&gt; a b c d e f -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Quinary">Quinary</a> a p : as) t</li><li class="src short"><a href="#v:andF6">andF6</a> ::  (<span class="keyword">forall</span> b c d e f g. Modify6 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f g =&gt; a b c d e f g -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Senary">Senary</a> a p : as) t</li><li class="src short"><a href="#v:noneF">noneF</a> ::  <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts [] t</li><li class="src short"><a href="#v:projF">projF</a> :: <a href="Type-Cluss.html#t:In">In</a> as a =&gt; <a href="Type-Cluss.html#t:AllOfF">AllOfF</a> as t -&gt; a -&gt; t</li></ul></div><div id="interface"><h1 id="g:1">Clusses</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:In" class="def">In</a> as a <span class="keyword">where</span></p><div class="doc"><p><code><code><a href="Type-Cluss.html#t:In">In</a></code> as</code> is a <em>cluss</em>, where <code>as</code> is a list of type patterns.
 Normally, <code>as</code> is concrete and does not contain any type variables, like <code>In [Binary (-&gt;) (Show &gt;|&lt; This), Type String] a</code>.</p><p>When <code>a</code> satisfies <code>In as a</code>, you can use the method <code><code><a href="Type-Cluss.html#v:proj">proj</a></code> :: <code><a href="Type-Cluss.html#t:AllOf">AllOf</a></code> as f -&gt; f a</code>.</p><p>Clusses call for some language extensions. Basically, this language pragma will do.</p><pre>{-# LANGUAGE DataKinds, FlexibleContexts, TypeOperators #-}</pre><p>Internally, &quot;type pattern matching&quot; is executed by <code>Where</code>, a closed type family, which cannot check if a type satisfies a constraint.
 If <code>as</code> has many type patterns that can match <code>a</code>, only the first one matches <code>a</code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:proj" class="def">proj</a> ::  <a href="Type-Cluss.html#t:AllOf">AllOf</a> as f -&gt; f a</p></div><div class="subs instances"><p id="control.i:In" class="caption collapser" onclick="toggleSection('i:In')">Instances</p><div id="section.i:In" class="show"><table><tr><td class="src">In' k (Where k as a) as as a =&gt; <a href="Type-Cluss.html#t:In">In</a> k as a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Type Patterns</h1><div class="doc"><p>Type patterns are used in the type list (first parameter) of <code><a href="Type-Cluss.html#t:In">In</a></code>.
        Each type pattern corresponds to the head of an instance declaration for a type class, namely, <code>instance ... where</code>. </p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Type" class="def">Type</a> a</p><div class="doc"><p>The empty type <code>Type a</code> is a type pattern.
 For example, the type pattern <code>Type Int</code> corresponds to <code>instance C Int where ...</code> (<code>C</code> is a type class).
 Note that the type variable <code>a</code> can be of any kind.</p></div><div class="subs instances"><p id="control.i:Type" class="caption collapser" onclick="toggleSection('i:Type')">Instances</p><div id="section.i:Type" class="show"><table><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Type">Type</a> k a) as) = <a name="v:And" class="def">And</a> (f a) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> a <a name="t:-60--124-" class="def">&lt;|</a> p <span class="fixity">infixl 7</span><span class="rightedge"></span></p><div class="doc"><p>The empty type <code>a &lt;| p</code> is a type pattern,
 where <code>a</code> is a type constructor, and <code>p</code> is a constraint function for the type variables for the constructor <code>a</code>.
 For example, the type pattern <code>[] &lt;| Show</code> corresponds to <code>instance (Show a) =&gt; C [a] where ...</code> (<code>C</code> is a type class).</p><p>You can replace any of <code><a href="Type-Cluss.html#t:Unary">Unary</a></code>, <code><a href="Type-Cluss.html#t:Binary">Binary</a></code>, ..., <code><a href="Type-Cluss.html#t:Senary">Senary</a></code> with <code>&lt;|</code>,
 but you can sometimes save the effort of annotating kinds
 using <code><a href="Type-Cluss.html#t:Unary">Unary</a></code>, <code><a href="Type-Cluss.html#t:Binary">Binary</a></code>, ..., <code><a href="Type-Cluss.html#t:Senary">Senary</a></code> instead of <code>&lt;|</code>,
 especially when using <code>PolyKinds</code> extension,
 because kinds of parameters are restricted in <code><a href="Type-Cluss.html#t:Unary">Unary</a></code>, <code><a href="Type-Cluss.html#t:Binary">Binary</a></code>, ..., <code><a href="Type-Cluss.html#t:Senary">Senary</a></code>.</p></div><div class="subs instances"><p id="control.i:-60--124-" class="caption collapser" onclick="toggleSection('i:-60--124-')">Instances</p><div id="section.i:-60--124-" class="show"><table><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Senary">Senary</a> k1 k2 k3 k4 k5 k6 k a p) as) = <a name="v:And6" class="def">And6</a> (<span class="keyword">forall</span> b c d e f' g. Modify6 k k k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e f' g =&gt; f (a b c d e f' g)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Quinary">Quinary</a> k1 k2 k3 k4 k5 k a p) as) = <a name="v:And5" class="def">And5</a> (<span class="keyword">forall</span> b c d e f'. Modify5 k k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e f' =&gt; f (a b c d e f')) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> k1 k2 k3 k4 k a p) as) = <a name="v:And4" class="def">And4</a> (<span class="keyword">forall</span> b c d e. Modify4 k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e =&gt; f (a b c d e)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Ternary">Ternary</a> k1 k2 (k3 -&gt; k) k3 a p) as) = <a name="v:And3" class="def">And3</a> (<span class="keyword">forall</span> b c d. Modify3 k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d =&gt; f (a b c d)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Binary">Binary</a> k1 k2 k a p) as) = <a name="v:And2" class="def">And2</a> (<span class="keyword">forall</span> b c. Modify2 k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c =&gt; f (a b c)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Unary">Unary</a> k1 k a p) as) = <a name="v:And1" class="def">And1</a> (<span class="keyword">forall</span> b. Modify k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b =&gt; f (a b)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Unary" class="def">Unary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; k</code> and <code>p</code>, <code>i -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Binary" class="def">Binary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; i' -&gt; k</code> and <code>p</code>, <code>i -&gt; i' -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Ternary" class="def">Ternary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; i' -&gt; i'' -&gt; k</code> and <code>p</code>, <code>i -&gt; i' -&gt; i'' -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Quaternary" class="def">Quaternary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; k</code> and <code>p</code>, <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Quinary" class="def">Quinary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; i'''' -&gt; k</code> and <code>p</code>, <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; i'''' -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Senary" class="def">Senary</a> a p = a <a href="Type-Cluss.html#t:-60--124-">&lt;|</a> p</p><div class="doc"><p><code>a <code>&lt;|</code> p</code>, with <code>a</code> being of the kind <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; i'''' -&gt; i''''' -&gt; k</code> and <code>p</code>, <code>i -&gt; i' -&gt; i'' -&gt; i''' -&gt; i'''' -&gt; i''''' -&gt; <code><a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/GHC-Exts.html#t:Constraint">Constraint</a></code></code>.</p></div></div><h1 id="g:3">Instance Products</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AllOf" class="def">AllOf</a> as = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> as as</p><div class="doc"><p><code><code><a href="Type-Cluss.html#t:AllOf">AllOf</a></code> as f</code> is a tuple that contains values of the type <code>f a</code>,
 where <code>a</code> can be any type that satisfies <code>In as a</code>.
 Each value corresponds to each type pattern,
 and the values in <code><code><a href="Type-Cluss.html#t:AllOf">AllOf</a></code> as f</code> must be in the same order as the type patterns in <code>as</code>.
 <code>And</code>, <code>And1</code>, <code>And2</code>, ..., <code>And6</code> are used to combine the values
 and <code>None</code> must be added at the end.
 You have to use <code>And</code> for <code><code><a href="Type-Cluss.html#t:Type">Type</a></code> a</code>,
 <code>And1</code> for <code><code><a href="Type-Cluss.html#t:Unary">Unary</a></code> a p</code>, <code>And2</code> for  <code><code><a href="Type-Cluss.html#t:Binary">Binary</a></code> a p</code>,
 ..., <code>And6</code> for <code><code><a href="Type-Cluss.html#t:Senary">Senary</a></code> a p</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data family</span> <a name="t:AllOf-39-" class="def">AllOf'</a> ts as f</p><div class="subs instances"><p id="control.i:AllOf-39-" class="caption collapser" onclick="toggleSection('i:AllOf-39-')">Instances</p><div id="section.i:AllOf-39-" class="show"><table><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ([] *) = <a name="v:None" class="def">None</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Senary">Senary</a> k1 k2 k3 k4 k5 k6 k a p) as) = <a name="v:And6" class="def">And6</a> (<span class="keyword">forall</span> b c d e f' g. Modify6 k k k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e f' g =&gt; f (a b c d e f' g)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Quinary">Quinary</a> k1 k2 k3 k4 k5 k a p) as) = <a name="v:And5" class="def">And5</a> (<span class="keyword">forall</span> b c d e f'. Modify5 k k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e f' =&gt; f (a b c d e f')) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> k1 k2 k3 k4 k a p) as) = <a name="v:And4" class="def">And4</a> (<span class="keyword">forall</span> b c d e. Modify4 k k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d e =&gt; f (a b c d e)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Ternary">Ternary</a> k1 k2 (k3 -&gt; k) k3 a p) as) = <a name="v:And3" class="def">And3</a> (<span class="keyword">forall</span> b c d. Modify3 k k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c d =&gt; f (a b c d)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Binary">Binary</a> k1 k2 k a p) as) = <a name="v:And2" class="def">And2</a> (<span class="keyword">forall</span> b c. Modify2 k k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b c =&gt; f (a b c)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Unary">Unary</a> k1 k a p) as) = <a name="v:And1" class="def">And1</a> (<span class="keyword">forall</span> b. Modify k (<a href="Type-Cluss.html#t:In">In</a> k ts) p b =&gt; f (a b)) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">data</span> <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts ((:) * (<a href="Type-Cluss.html#t:Type">Type</a> k a) as) = <a name="v:And" class="def">And</a> (f a) (<a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> k ts as f)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:4">Constraint Combinators</h1><div class="doc"><p>Constraint combinators are used in the second parameter of <code>&lt;|</code>, <code><a href="Type-Cluss.html#t:Unary">Unary</a></code>, <code><a href="Type-Cluss.html#t:Binary">Binary</a></code>, ..., <code><a href="Type-Cluss.html#t:Senary">Senary</a></code>.
        Note that each combinator is kind-polymorphic. </p></div><h2 id="g:5">Basic Combinators</h2><div class="top"><p class="src"><span class="keyword">class</span> (<a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#v:True">True</a> ~ <a href="file://C:\PROGRA~1\HASKEL~1\201420~1.0\lib/../doc/html/libraries/base-4.7.0.1/Data-Bool.html#v:False">False</a>) =&gt; <a name="t:This" class="def">This</a> a</p><div class="doc"><p><code><a href="Type-Cluss.html#t:This">This</a></code> creates a recursion.
 In other words, <code><a href="Type-Cluss.html#t:This">This</a></code> will work as <code><code><a href="Type-Cluss.html#t:In">In</a></code> as</code> itself
 when used in the type list (first parameter) <code>as</code> of <code><a href="Type-Cluss.html#t:In">In</a></code>,
 combined with <code><a href="Type-Cluss.html#t:Type">Type</a></code>, <code>&lt;|</code>, <code><a href="Type-Cluss.html#t:Unary">Unary</a></code>, <code><a href="Type-Cluss.html#t:Binary">Binary</a></code>, ..., <code><a href="Type-Cluss.html#t:Senary">Senary</a></code>,
 <code>&gt;+&lt;</code>, <code>&gt;++&lt;</code>, ..., <code>&gt;++++++&lt;</code>,
 <code>&gt;|&lt;</code>, <code>&gt;||&lt;</code>, ..., <code>&gt;|||||&lt;</code>.</p><p>Note that <code><a href="Type-Cluss.html#t:This">This</a></code> won't be expanded into <code><code><a href="Type-Cluss.html#t:In">In</a></code> as</code>
 if the condition described above is not satisfied.
 Internally, the expansion is executed by <code>Modify</code>, <code>Modify2</code>, ..., <code>Modify6</code>.</p><p>The instance of <code><a href="Type-Cluss.html#t:This">This</a></code> itself can't be created
 since the context <code>True~False</code> will never be satisfied.</p><p>There is no predetermined limit of recursion depth,
 but GHC has a fixed-depth recursion stack for safety,
 so you may need to increase the stack depth with <code>-fcontext-stack=N</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Pure" class="def">Pure</a> a</p><div class="doc"><p><code><code><a href="Type-Cluss.html#t:Pure">Pure</a></code> a</code> is equivalent to the empty constraint <code>()</code>.</p><pre>Pure a == ()</pre></div><div class="subs instances"><p id="control.i:Pure" class="caption collapser" onclick="toggleSection('i:Pure')">Instances</p><div id="section.i:Pure" class="show"><table><tr><td class="src"><a href="Type-Cluss.html#t:Pure">Pure</a> k a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Is" class="def">Is</a> a b = a ~ b</p><div class="doc"><pre>(Is a) b == (a ~ b)</pre></div></div><h2 id="g:6">Combinators for Overlaying Contraints</h2><div class="top"><p class="src"><span class="keyword">class</span> (p a, q a) =&gt; (p <a name="t:-62--43--60-" class="def">&gt;+&lt;</a> q) a <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;+&lt; q) a == (p a, q a)</pre></div><div class="subs instances"><p id="control.i:-62--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--60-')">Instances</p><div id="section.i:-62--43--60-" class="show"><table><tr><td class="src">(p a, q a) =&gt; <a href="Type-Cluss.html#t:-62--43--60-">(&gt;+&lt;)</a> k p q a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b, q a b) =&gt; (p <a name="t:-62--43--43--60-" class="def">&gt;++&lt;</a> q) a b <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;++&lt; q) a b == (p a b, q a b)</pre></div><div class="subs instances"><p id="control.i:-62--43--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--43--60-')">Instances</p><div id="section.i:-62--43--43--60-" class="show"><table><tr><td class="src">(p a b, q a b) =&gt; <a href="Type-Cluss.html#t:-62--43--43--60-">(&gt;++&lt;)</a> k k p q a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c, q a b c) =&gt; (p <a name="t:-62--43--43--43--60-" class="def">&gt;+++&lt;</a> q) a b c <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;+++&lt; q) a b c == (p a b c, q a b c)</pre></div><div class="subs instances"><p id="control.i:-62--43--43--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--43--43--60-')">Instances</p><div id="section.i:-62--43--43--43--60-" class="show"><table><tr><td class="src">(p a b c, q a b c) =&gt; <a href="Type-Cluss.html#t:-62--43--43--43--60-">(&gt;+++&lt;)</a> k k k p q a b c</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c d, q a b c d) =&gt; (p <a name="t:-62--43--43--43--43--60-" class="def">&gt;++++&lt;</a> q) a b c d <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;++++&lt; q) a b c d == (p a b c d, q a b c d)</pre></div><div class="subs instances"><p id="control.i:-62--43--43--43--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--43--43--43--60-')">Instances</p><div id="section.i:-62--43--43--43--43--60-" class="show"><table><tr><td class="src">(p a b c d, q a b c d) =&gt; <a href="Type-Cluss.html#t:-62--43--43--43--43--60-">(&gt;++++&lt;)</a> k k k k p q a b c d</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c d e, q a b c d e) =&gt; (p <a name="t:-62--43--43--43--43--43--60-" class="def">&gt;+++++&lt;</a> q) a b c d e <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;+++++&lt; q) a b c d e == (p a b c d e, q a b c d e)</pre></div><div class="subs instances"><p id="control.i:-62--43--43--43--43--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--43--43--43--43--60-')">Instances</p><div id="section.i:-62--43--43--43--43--43--60-" class="show"><table><tr><td class="src">(p a b c d e, q a b c d e) =&gt; <a href="Type-Cluss.html#t:-62--43--43--43--43--43--60-">(&gt;+++++&lt;)</a> k k k k k p q a b c d e</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c d e f, q a b c d e f) =&gt; (p <a name="t:-62--43--43--43--43--43--43--60-" class="def">&gt;++++++&lt;</a> q) a b c d e f <span class="fixity">infixl 9</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;++++++&lt; q) a b c d e f == (p a b c d e f, q a b c d e f)</pre></div><div class="subs instances"><p id="control.i:-62--43--43--43--43--43--43--60-" class="caption collapser" onclick="toggleSection('i:-62--43--43--43--43--43--43--60-')">Instances</p><div id="section.i:-62--43--43--43--43--43--43--60-" class="show"><table><tr><td class="src">(p a b c d e f, q a b c d e f) =&gt; <a href="Type-Cluss.html#t:-62--43--43--43--43--43--43--60-">(&gt;++++++&lt;)</a> k k k k k k p q a b c d e f</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:7">Combinators for Bonding Contraints</h2><div class="top"><p class="src"><span class="keyword">class</span> (p a, q b) =&gt; (p <a name="t:-62--124--60-" class="def">&gt;|&lt;</a> q) a b <span class="fixity">infixl 8</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;|&lt; q) a b == (p a, q b)</pre></div><div class="subs instances"><p id="control.i:-62--124--60-" class="caption collapser" onclick="toggleSection('i:-62--124--60-')">Instances</p><div id="section.i:-62--124--60-" class="show"><table><tr><td class="src">(p a, q b) =&gt; <a href="Type-Cluss.html#t:-62--124--60-">(&gt;|&lt;)</a> k k p q a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b, q c) =&gt; (p <a name="t:-62--124--124--60-" class="def">&gt;||&lt;</a> q) a b c <span class="fixity">infixl 8</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;||&lt; q) a b c == (p a b, q c)</pre></div><div class="subs instances"><p id="control.i:-62--124--124--60-" class="caption collapser" onclick="toggleSection('i:-62--124--124--60-')">Instances</p><div id="section.i:-62--124--124--60-" class="show"><table><tr><td class="src">(p a b, q c) =&gt; <a href="Type-Cluss.html#t:-62--124--124--60-">(&gt;||&lt;)</a> k k k p q a b c</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c, q d) =&gt; (p <a name="t:-62--124--124--124--60-" class="def">&gt;|||&lt;</a> q) a b c d <span class="fixity">infixl 8</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;|||&lt; q) a b c d == (p a b c, q d)</pre></div><div class="subs instances"><p id="control.i:-62--124--124--124--60-" class="caption collapser" onclick="toggleSection('i:-62--124--124--124--60-')">Instances</p><div id="section.i:-62--124--124--124--60-" class="show"><table><tr><td class="src">(p a b c, q d) =&gt; <a href="Type-Cluss.html#t:-62--124--124--124--60-">(&gt;|||&lt;)</a> k k k k p q a b c d</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c d, q e) =&gt; (p <a name="t:-62--124--124--124--124--60-" class="def">&gt;||||&lt;</a> q) a b c d e <span class="fixity">infixl 8</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;||||&lt; q) a b c d e == (p a b c d, q e)</pre></div><div class="subs instances"><p id="control.i:-62--124--124--124--124--60-" class="caption collapser" onclick="toggleSection('i:-62--124--124--124--124--60-')">Instances</p><div id="section.i:-62--124--124--124--124--60-" class="show"><table><tr><td class="src">(p a b c d, q e) =&gt; <a href="Type-Cluss.html#t:-62--124--124--124--124--60-">(&gt;||||&lt;)</a> k k k k k p q a b c d e</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (p a b c d e, q f) =&gt; (p <a name="t:-62--124--124--124--124--124--60-" class="def">&gt;|||||&lt;</a> q) a b c d e f <span class="fixity">infixl 8</span><span class="rightedge"></span></p><div class="doc"><pre>(p &gt;|||||&lt; q) a b c d e f == (p a b c d e, q f)</pre></div><div class="subs instances"><p id="control.i:-62--124--124--124--124--124--60-" class="caption collapser" onclick="toggleSection('i:-62--124--124--124--124--124--60-')">Instances</p><div id="section.i:-62--124--124--124--124--124--60-" class="show"><table><tr><td class="src">(p a b c d e, q f) =&gt; <a href="Type-Cluss.html#t:-62--124--124--124--124--124--60-">(&gt;|||||&lt;)</a> k k k k k k p q a b c d e f</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:8">Helpers</h1><h2 id="g:9">Helpers for Identical Constructors</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AllOfI" class="def">AllOfI</a> as = <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> as as</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AllOfI-39-" class="def">AllOfI'</a> ts as = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> ts as Id</p></div><div class="top"><p class="src"><a name="v:andI" class="def">andI</a> ::  a -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Type">Type</a> a : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI1" class="def">andI1</a> ::  (<span class="keyword">forall</span> b. Modify (<a href="Type-Cluss.html#t:In">In</a> ts) p b =&gt; a b) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Unary">Unary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI2" class="def">andI2</a> ::  (<span class="keyword">forall</span> b c. Modify2 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c =&gt; a b c) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Binary">Binary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI3" class="def">andI3</a> ::  (<span class="keyword">forall</span> b c d. Modify3 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d =&gt; a b c d) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Ternary">Ternary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI4" class="def">andI4</a> ::  (<span class="keyword">forall</span> b c d e. Modify4 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e =&gt; a b c d e) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI5" class="def">andI5</a> ::  (<span class="keyword">forall</span> b c d e f. Modify5 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f =&gt; a b c d e f) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Quinary">Quinary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andI6" class="def">andI6</a> ::  (<span class="keyword">forall</span> b c d e f g. Modify6 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f g =&gt; a b c d e f g) -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts as -&gt; <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts (<a href="Type-Cluss.html#t:Senary">Senary</a> a p : as) <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:noneI" class="def">noneI</a> ::  <a href="Type-Cluss.html#t:AllOfI-39-">AllOfI'</a> ts []</p></div><div class="top"><p class="src"><a name="v:projI" class="def">projI</a> :: <a href="Type-Cluss.html#t:In">In</a> as a =&gt; <a href="Type-Cluss.html#t:AllOfI">AllOfI</a> as -&gt; a</p></div><h2 id="g:10">Helpers for Function Constructors</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AllOfF" class="def">AllOfF</a> as t = <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> as as t</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AllOfF-39-" class="def">AllOfF'</a> ts as t = <a href="Type-Cluss.html#t:AllOf-39-">AllOf'</a> ts as (Func t)</p></div><div class="top"><p class="src"><a name="v:andF" class="def">andF</a> ::  (a -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Type">Type</a> a : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF1" class="def">andF1</a> ::  (<span class="keyword">forall</span> b. Modify (<a href="Type-Cluss.html#t:In">In</a> ts) p b =&gt; a b -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Unary">Unary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF2" class="def">andF2</a> ::  (<span class="keyword">forall</span> b c. Modify2 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c =&gt; a b c -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Binary">Binary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF3" class="def">andF3</a> ::  (<span class="keyword">forall</span> b c d. Modify3 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d =&gt; a b c d -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Ternary">Ternary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF4" class="def">andF4</a> ::  (<span class="keyword">forall</span> b c d e. Modify4 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e =&gt; a b c d e -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Quaternary">Quaternary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF5" class="def">andF5</a> ::  (<span class="keyword">forall</span> b c d e f. Modify5 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f =&gt; a b c d e f -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Quinary">Quinary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:andF6" class="def">andF6</a> ::  (<span class="keyword">forall</span> b c d e f g. Modify6 (<a href="Type-Cluss.html#t:In">In</a> ts) p b c d e f g =&gt; a b c d e f g -&gt; t) -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts as t -&gt; <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts (<a href="Type-Cluss.html#t:Senary">Senary</a> a p : as) t <span class="fixity">infixr 0</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:noneF" class="def">noneF</a> ::  <a href="Type-Cluss.html#t:AllOfF-39-">AllOfF'</a> ts [] t</p></div><div class="top"><p class="src"><a name="v:projF" class="def">projF</a> :: <a href="Type-Cluss.html#t:In">In</a> as a =&gt; <a href="Type-Cluss.html#t:AllOfF">AllOfF</a> as t -&gt; a -&gt; t</p></div><h1 id="g:11">Examples</h1><h2 id="g:12">Example1: Hello</h2><div class="doc"><p>Let's begin with a basic example.</p><pre>type Hellos = [
    Type String,
    Type Int,
    Type Double,
    Unary [] Show,
    Quaternary (,,,) (This &gt;|&lt; This &gt;||&lt; This &gt;|||&lt; This)]
hello :: In Hellos a =&gt; a -&gt; String
hello = projF (
    (\s -&gt; &quot;hello, &quot; ++ s) `andF`
    (\n -&gt; &quot;Mr. &quot; ++ show n) `andF`
    (\x -&gt; show (x / 2) ++ &quot; times two&quot;) `andF`
    (\xs -&gt; concatMap ((++&quot;, &quot;) . show) xs ++ &quot;period&quot;) `andF1`
    (\(x,y,z,w) -&gt;
        hello x ++ &quot; and &quot; ++ hello y ++ &quot; and &quot; ++
        hello z ++ &quot; and &quot; ++ hello w) `andF4`
    noneF :: AllOfF Hellos String)

main = putStrLn $
    hello (&quot;world&quot;, 42 :: Int, 3.14 :: Double, [True, False])</pre><p>This is the result.</p><pre>hello, world and Mr. 42 and 1.57 times two and True, False, period</pre></div><h2 id="g:13">Example2: Printf</h2><div class="doc"><p>With a recursive cluss,
 you can easily make a function that can take a variable number of arguments.
 The function below is a simplified C-style printf.</p><pre>type Printfs = [Binary (-&gt;) (Show &gt;|&lt; This), Type String]
printf :: In Printfs a =&gt; String -&gt; a
printf s = projI (
    (\x -&gt; printf (go s (show x))) `andI2`
    s `andI`
    noneI :: AllOfI Printfs)
  where
    go ('@' : cs) t = t ++ cs
    go (c : cs) t = c : go cs t
    go [] t = error &quot;there is no '@' any more!&quot;

main = putStrLn $
    printf &quot;@ good @ and @&quot; 12 &quot;men&quot; True</pre><p>This is the result.</p><pre>12 good &quot;men&quot; and True</pre></div><h2 id="g:14">Example3: Monad</h2><div class="doc"><p>Here is a more complex example.
 When the type of a &quot;cluss method&quot; is complex, you generally have to create newtypes (like Bind and Return below).</p><pre>type Monads = [Type [], Unary (-&gt;) Pure, Unary (,) Monoid, Unary Wrap This]
newtype Wrap m a = Wrap {unWrap :: m a}
newtype Bind a b m = Bind {unBind :: m a -&gt; (a -&gt; m b) -&gt; m b}
newtype Return a m = Return {unReturn :: a -&gt; m a}
bind :: In Monads m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
bind = unBind $ proj (
    Bind (\m k -&gt; concatMap k m) `And`
    Bind (\m k e -&gt; k (m e) e) `And1`
    Bind (\(a,x) k -&gt; let (a',x') = k x in (a&lt;&gt;a',x')) `And1`
    Bind (\m k -&gt; Wrap (unWrap m `bind` (unWrap . k))) `And1`
    None :: AllOf Monads (Bind a b))
return' :: In Monads m =&gt; a -&gt; m a
return' = unReturn $ proj (
    Return (: []) `And`
    Return const `And1`
    Return ((,) mempty) `And1`
    Return (Wrap . return') `And1`
    None :: AllOf Monads (Return a))
infixl 1 `bind`

main = print $
    return' 1 `bind` replicate 3 `bind` (\n -&gt; [n .. n+4])</pre><p>This is the result.</p><pre>[1,2,3,4,5,1,2,3,4,5,1,2,3,4,5]</pre></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>